<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - BudgetTrack</title>

    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/BudgetTrack.styles.css" asp-append-version="true" />

    <style>

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            padding-top: 130px;
            background: #0f172a;
            color: white;
            overflow-x: hidden;
        }

            body.Home-Index {
                background: linear-gradient(180deg, #0f172a 0%, #1a2238 60%, #0f172a 100%);
                background-attachment: fixed;
                background-size: cover;
                background-position: center;
                color: #e5f4ff;
            }

                body.Home-Index::before {
                    content: "";
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 420px;
                    background: radial-gradient(circle at top, rgba(56,189,248,0.12), transparent 70%);
                    pointer-events: none;
                    z-index: -1;
                }

                body.Home-Index .section,
                body.Home-Index .hero,
                body.Home-Index .cta {
                    background: transparent !important;
                    border: none !important;
                }

                body.Home-Index .section-title {
                    font-size: 34px;
                    font-weight: 700;
                    color: #e5f4ff;
                }

                body.Home-Index .section-subtitle {
                    color: #94a3b8;
                }

                body.Home-Index .feature-card {
                    background: rgba(255,255,255,0.03);
                    border: 1px solid rgba(255,255,255,0.06);
                    backdrop-filter: blur(6px);
                    transition: .25s;
                }

                    body.Home-Index .feature-card:hover {
                        transform: translateY(-4px);
                        border-color: #38bdf8;
                    }

                body.Home-Index .why-grid {
                    background: rgba(255,255,255,0.02);
                    padding: 40px;
                    border-radius: 20px;
                    border: 1px solid rgba(255,255,255,0.05);
                }

                body.Home-Index .stat-card {
                    background: rgba(255,255,255,0.03);
                    border: 1px solid rgba(255,255,255,0.06);
                }

                body.Home-Index .cta {
                    background: transparent !important;
                    padding: 120px 60px;
                }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 18px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(12px);
            background: rgba(15,23,42,0.92);
            border-bottom: 1px solid rgba(148,163,184,0.25);
            z-index: 1000;
        }

        .nav-right, .nav-center, .nav-left {
            display: flex;
            align-items: center;
            gap: 22px;
        }

        .nav-center {
            flex-grow: 1;
            justify-content: center;
        }

        nav a {
            color: #e2e8f0 !important;
            text-decoration: none;
            font-size: 16px;
            transition: 0.3s;
            white-space: nowrap;
        }

            nav a:hover {
                color: #38bdf8 !important;
            }

        .nav-btn {
            padding: 8px 18px;
            background: linear-gradient(135deg, #38bdf8, #7dd3fc);
            color: #0f172a !important;
            border-radius: 10px;
            font-weight: 600;
            text-decoration: none;
            box-shadow: 0 10px 25px rgba(56,189,248,0.35);
        }

            .nav-btn:hover {
                transform: translateY(-1px);
                box-shadow: 0 14px 30px rgba(56,189,248,0.45);
            }

        .home-icon {
            font-size: 18px;
            color: #e2e8f0 !important;
            padding: 8px;
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: 0.25s;
            background: rgba(255,255,255,0.05);
        }

            .home-icon:hover {
                background: rgba(255,255,255,0.12);
                color: #38bdf8 !important;
            }

        .user-bar {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-email {
            color: #38bdf8;
            font-weight: 600;
            font-size: 15px;
            text-decoration: none;
        }

        .logout-btn {
            background: #ef4444;
            color: white !important;
            padding: 8px 14px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
        }

            .logout-btn:hover {
                background: #dc2626;
            }

        footer {
            padding: 40px 60px;
            border-top: 1px solid rgba(30,64,175,0.7);
            background: #020617;
            display: grid;
            grid-template-columns: minmax(0, 1.4fr) repeat(3, minmax(0, 1fr));
            gap: 26px;
            font-size: 13px;
        }

            footer h4 {
                color: #e5f4ff;
                margin-bottom: 10px;
                font-size: 14px;
            }

            footer a {
                color: #94a3b8;
                text-decoration: none;
                margin-bottom: 6px;
                transition: 0.2s;
                display: block;
            }

                footer a:hover {
                    color: #38bdf8;
                }

            footer .copy {
                grid-column: 1 / -1;
                text-align: center;
                color: #64748b;
                margin-top: 10px;
            }

    </style>
</head>

<body class="@ViewContext.RouteData.Values["Controller"]-@ViewContext.RouteData.Values["Action"]">
    <header>
        <nav>

            <div class="nav-right">
                <a asp-controller="Home" asp-action="Index">
                    Budget<span style="color:#38bdf8;">Track</span>
                </a>
            </div>

            <div class="nav-center">
                @if (ViewContext.RouteData.Values["Action"].ToString() == "Index")
                {
                    <a href="#features">المميزات</a>
                    <a href="#why">لماذا نحن</a>
                    <a asp-controller="Home" asp-action="Privacy">الخصوصية</a>
                }
            </div>

            <div class="nav-left">
                @if (Context.Session.GetString("UserEmail") == null)
                {
                    <a asp-controller="Auth" asp-action="Login">تسجيل الدخول</a>
                    <a asp-controller="Auth" asp-action="Register" class="nav-btn">إنشاء حساب</a>
                }
                else
                {
                    <div class="user-bar">
                        <a href="/Account/Profile" class="user-email">
                            @Context.Session.GetString("UserEmail")
                        </a>

                        <a asp-controller="Auth" asp-action="Logout" class="logout-btn">
                            تسجيل خروج
                        </a>

                        @if (ViewContext.RouteData.Values["Action"].ToString() != "Index")
                        {
                            <a asp-controller="Home" asp-action="Index" class="home-icon" title="الصفحة الرئيسية">
                                <i class="fa-solid fa-house"></i>
                            </a>
                        }
                    </div>
                }
            </div>

        </nav>
    </header>

    <main>
        @RenderBody()
    </main>

    <footer>
        <div>
            <h4>BudgetTrack</h4>
            <p style="color:#94a3b8; max-width:260px;">
                نظام إدارة مالية متكامل يساعد الشركات على تتبع المصروفات والتحكم في الميزانية.
            </p>
        </div>

        <div>
            <h4>المنتج</h4>
            <a href="#features">المميزات</a>
            <a href="#why">لماذا نحن</a>
        </div>

        <div>
            <h4>الشركة</h4>
            <a href="#">من نحن</a>
            <a href="/Home/Privacy">الخصوصية</a>
        </div>

        <div class="copy">
            © 2026 BudgetTrack. جميع الحقوق محفوظة.
        </div>
    </footer>

    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    @await RenderSectionAsync("Scripts", required: false)

</body>
</html>
